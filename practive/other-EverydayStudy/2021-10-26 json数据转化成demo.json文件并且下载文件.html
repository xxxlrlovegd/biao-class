<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body></body>
</html>
<script>
  //json数据转化成demo.json文件并且下载文件
  function downloadFile(url, name) {
    let ele = document.createElement("a");
    ele.href = url;
    ele.rel = "noopener"; //提高安全和性能
    ele.download = name;
    //触发模拟点击
    ele.dispatchEvent(new MouseEvent("click"));
    //或者 用 ele.click()
  }
  const json = {
    a: 1,
    b: 2,
    c: 3,
  };
  const str = JSON.stringify(json, null, 2);
  //方案一：text->dataUrl
  const dataUrl = `data:,${str}`;
  downloadFile(dataUrl, "demo.json");
  //方案二：text->blob->ObjectURL
  const dataUrl1 = URL.createObjectURL(new Blob(str.split("")));
  downloadFile(dataUrl1, "demo1.json");
  //总结：
  //模拟下载，可以通过新建一个<a href="url" download></a>,设置url及download属性进行下载
  //设置路由有2种方式，一种是直接转成dataUrl,一种是通过Blob转换成objectUrl
</script>
