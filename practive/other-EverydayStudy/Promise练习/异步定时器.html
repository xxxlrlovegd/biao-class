<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body></body>
</html>
<script>
  (function () {
    function doDelay(time) {
      return new Promise((reslove, reject) => {
        console.log("启动异步任务！");
        setTimeout(() => {
          console.log("延时任务开始执行！");
          let timeFlag = Date.now();
          if (timeFlag % 2 === 1) {
            reslove("成功得数据" + timeFlag);
          } else {
            reject("失败得数据" + timeFlag);
          }
        }, time);
      });
    }
    const promise = doDelay(2000);
    promise
      .then((res) => {
        console.log(res);
      })
      .catch((err) => {
        console.log(err);
      });
  })();
</script>
